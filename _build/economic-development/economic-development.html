---
interact_link: content/economic-development/economic-development.ipynb
kernel_name: python3
has_widgets: false
title: |-
  Economic Development: Africa
prev_page:
  url: /topic-intros/economic-development.html
  title: |-
    Economic Development: Africa
next_page:
  url: /topic-intros/finance.html
  title: |-
    Finance and Time Series Data
comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---
<main class="jupyter-page">
<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table style="width: 100%;">
    <tr style="background-color: transparent;"><td>
        <img src="https://d8a-88.github.io/econ-fa19/assets/images/blue_text.png" width="250px" style="margin-left: 0;" />
    </td><td>
        <p style="text-align: right; font-size: 12pt;"><strong>Economic Models</strong>, Fall 2019<br>
            Dr. Eric Van Dusen</p></td></tr>
</table>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Lab-8:-Water-Guard-Promotion-Study">Lab 8: Water Guard Promotion Study<a class="anchor-link" href="#Lab-8:-Water-Guard-Promotion-Study"> </a></h1><p>This lab is an adaptation from a set of notebooks developed for a full semester Data Science Connector Course taught in Fall 2017, entitled "Behind the Curtain in Economic Development".  This dataset come from a randomized controlled trial household survey carried out in Eastern Kenya in 2007 - 2008.</p>
<p>The purpose of the study was to understand how to promote the use of WaterGuard, a dilute sodium hypochlorite solution that was promoted for Point-of-use household water disinfection.  There were seven arms in the study - which will be more fully described in the following Table:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="Slide1.png"  /></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Within this table you can see the seven treatments arms -  control plus three treatments -  in the bolded boxes in the middle with the number of springs and households. The study was carried out as a part of a study of households who gather drinking water from springs in a rural area.  The three boxes at the bottom describe the three rounds of data collection - a baseline before the treatment, and a short term and long term follow-up.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Notebook Outline</strong></p>
<ol>
<li><a href="#Mapping">Mapping</a></li>
<li><a href="#Balance">Balance Check</a></li>
<li><a href="#Baseline">Baseline and a Randomly Selected Compound</a></li>
<li><a href="#Chlorine">Chlorine Usage outcome variables</a></li>
<li><a href="#Graph">Graph of outcomes by Treatment Arm</a></li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">datascience</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pandas</span> <span class="k">import</span> <span class="n">read_stata</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="ch">#! jupyter labextension install @jupyter-widgets/jupyterlab-manager</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="ch">#! pip install gmaps</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="ch">#! jupyter lab build</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Mapping">Mapping<a class="anchor-link" href="#Mapping"> </a></h1><div id="Mapping"></div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This first section works with a package in Jupyter called Gmaps, 
the documentation is <a href="http://jupyter-gmaps.readthedocs.io/en/latest/gmaps.html">here</a>
and it is worth a short read through if you are interested</p>
<p>For Data 8 users, a basic mapping program is included in the datascience module
it is called Folium and makes open source maps from python data
the documentation is <a href="http://folium.readthedocs.io/en/latest/index.html">here</a></p>
<p>In rural Kenya there are few roads and very limited coverage with Open Street Map base layer that works in Folium.  Therefore we will use the satellite layer which is avialable from Google Maps.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># if you want to run this on a local machine you may need to do the following</span>
<span class="c1"># at the terminal prompt need to do $ pip install gmaps</span>
<span class="c1"># at the terminal prompt need to do $ jupyter nbextension enable --py gmaps</span>
<span class="c1"># may have to quite jupyter and restart terminal and then do the above prompt</span>
<span class="c1"># need a GMAPS API token  - mine is (new Nov 2018)  AIzaSyCw6FrENSBnz8T_dHRiPSaNw299bIuYA-g</span>
<span class="c1"># This code is following along from http://jupyter-gmaps.readthedocs.io/en/latest/gmaps.html</span>

<span class="kn">import</span> <span class="nn">gmaps</span>
<span class="kn">import</span> <span class="nn">gmaps.datasets</span>
<span class="n">gmaps</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;AIzaSyCw6FrENSBnz8T_dHRiPSaNw299bIuYA-g&quot;</span><span class="p">)</span> <span class="c1"># Fill in with your API key</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will start by reading in a dataset of the GPS coordinates of the springs that are used in the WaterGuard Promotion (WGP) study.  These springs were randomized into seven different treatment arms.  The springs are identified by a unique numerical id tag, and the common name in the local language.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">springsGPS</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;WGPgps_forData8.csv&#39;</span><span class="p">)</span>
<span class="n">springsGPS</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#make a table with just the North and East Gps columns </span>

<span class="n">locations</span> <span class="o">=</span> <span class="n">springsGPS</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;gpsn1&quot;</span><span class="p">,</span> <span class="s2">&quot;gpse1&quot;</span><span class="p">)</span>
<span class="n">locations</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># once the map is displayed, click the tab to display the satellite view</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">gmaps</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">markers</span> <span class="o">=</span> <span class="n">gmaps</span><span class="o">.</span><span class="n">marker_layer</span><span class="p">(</span><span class="n">locations</span><span class="o">.</span><span class="n">to_df</span><span class="p">())</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">markers</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Let&#39;s change the color of the symbols </span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">gmaps</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="n">gmaps</span><span class="o">.</span><span class="n">symbol_layer</span><span class="p">(</span><span class="n">locations</span><span class="o">.</span><span class="n">to_df</span><span class="p">(),</span><span class="n">fill_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">symbols</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now the most interesting bit of data is still not being used, the Treatment Arm
Lets assign different colors to the different treatment arms
So that when we map it we can look and see if the arms appear to be randomly distributed</p>
<p>The following is function, that assigns the 1-7 of the treatment arms to a set of colors</p>
<p>Here is the colors reference if you are interested!<br>
<a href="https://www.w3.org/TR/css3-color/#html4">https://www.w3.org/TR/css3-color/#html4</a></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="n">arm</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;fuschia&#39;</span>
    <span class="k">elif</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;red&#39;</span>
    <span class="k">elif</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;purple&#39;</span>
    <span class="k">elif</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;green&#39;</span>
    <span class="k">elif</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;blue&#39;</span>
    <span class="k">elif</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;olive&#39;</span>
    <span class="k">elif</span> <span class="n">arm</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;teal&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Using the .apply method, you can apply any function to a data frame</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">springsGPS</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="s2">&quot;treatment_arm&quot;</span><span class="p">)</span>
<span class="n">springsGPS</span> <span class="o">=</span> <span class="n">springsGPS</span><span class="o">.</span><span class="n">with_column</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
<span class="n">springsGPS</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">gmaps</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="n">gmaps</span><span class="o">.</span><span class="n">symbol_layer</span><span class="p">(</span><span class="n">locations</span><span class="o">.</span><span class="n">to_df</span><span class="p">(),</span>
                             <span class="n">stroke_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">springsGPS</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)),</span><span class="c1">#[&#39;color&#39;].tolist(),</span>
                             <span class="n">fill_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">springsGPS</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">))</span><span class="c1">#[&#39;color&#39;].tolist()</span>
                            <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">symbols</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Visual inspection of the map:</strong>
Do the colors seem randomly distributed ?
In fact the randomization was performed on just a list of the springs using a random number generator.  It did not take spatial distribution into effect.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Question-1----Thought-Experiment---Spatial-Randomization">Question 1  - Thought Experiment - Spatial Randomization<a class="anchor-link" href="#Question-1----Thought-Experiment---Spatial-Randomization"> </a></h2><p>1.1 What could you do to test whether the Treatment arms are spatially distributed.</p>
<p>1.2 What could you do to randomize the treatment arms over space.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div id="Balance"></div><h1 id="Balance-Check-and-Variable-Names">Balance Check and Variable Names<a class="anchor-link" href="#Balance-Check-and-Variable-Names"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Baseline-Survey">Baseline Survey<a class="anchor-link" href="#Baseline-Survey"> </a></h2><p>This is our first look at the survey dataset.  These are a limited set of questions/answers from a simple and short baseline survey. However it is a lot bigger and messier than the datasets we have been seeing in Data8.</p>
<p>Data variable names follow along with the survey below, referred to by the section, a,b,c... number, 1,2,3... and a few words about the question.</p>
<p>The purpose of this section will be:</p>
<ul>
<li>to get a familiarity with the dataset, </li>
<li>to look at some background descriptor variables of the households, </li>
<li>to start to think about missing values and coding of subsets of the data.  </li>
<li>to checking the randomization of households by seeeing if the different arms of the study are balanced across some of the key baseline variables.  </li>
</ul>
<p><strong>The surveys that illustrate the raw data names are in a Box folder linked here -  You have to go and look through this survey to understand the variables</strong>
<a href="https://goo.gl/TzzvLb">https://goo.gl/TzzvLb</a>  or  <a href="https://drive.google.com/open?id=1UVoiVn7LJ4rn7WEb-9BJ96jmdJ2FBk60">https://drive.google.com/open?id=1UVoiVn7LJ4rn7WEb-9BJ96jmdJ2FBk60</a></p>
<p><em>A note on Pandas vs datascience/tables</em></p>
<ul>
<li>The main Data8 class is taught mostly using a Python package designed specifically for the class called <code>datascience</code>.  The more popular package for statistical analysis is called <code>pandas</code>. </li>
<li>Throughout this Lab, there are some commands mostly in <code>Pandas</code></li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Option to allow Pandas to display many columns</span>
<span class="c1"># there are 200 something columns in this dataset</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGP_baseline</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_stata</span><span class="p">(</span><span class="s1">&#39;WGP_baseline_Data8.dta&#39;</span><span class="p">))</span>
<span class="n">WGP_baseline</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Misssing-values-~-NaN">Misssing values ~ NaN<a class="anchor-link" href="#Misssing-values-~-NaN"> </a></h2><p>if you look through the dataset above, and scroll to the right a ways to some of the last variables, you will notice that that there are a lot of cells with NaN, which means a missing value. For these cells no data was entered at the time of data entry. In some cases it may be appropriate to enter a zero and carry on with the analyis.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># There are a lot of missing values in the data, so we can make a copy of the dataset/dataframe</span>
<span class="c1"># that has zeros in the place of &#39;nan&#39; - mising data values</span>
<span class="n">WGP_base_dfna</span> <span class="o">=</span> <span class="n">WGP_baseline</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># this is a second dataframe that we can call with a different name</span>
<span class="n">WGP_base_dfna</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Lets make a datascience table at the same time</span>
<span class="n">WG_basetable</span><span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_df</span><span class="p">(</span><span class="n">WGP_baseline</span><span class="p">)</span>
<span class="c1"># this is a table that we can use with the data8/datascience commands</span>
<span class="n">WG_basetable</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Look at the variable names, and then look at the survey form to find the concordance of codes</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Here is a list of all of the possible categories / columns</span>
<span class="nb">list</span><span class="p">(</span><span class="n">WGP_baseline</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-are-some-Variables-that-we-want-to-specifically-look-at?">What are some Variables that we want to specifically look at?<a class="anchor-link" href="#What-are-some-Variables-that-we-want-to-specifically-look-at?"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Front-Page-information---A-variables">Front Page information - A variables<a class="anchor-link" href="#Front-Page-information---A-variables"> </a></h3><ul>
<li>household id, </li>
<li>spring id, </li>
<li>interviewer id</li>
</ul>
<h3 id="Information-about-respondent---B-variables">Information about respondent - B variables<a class="anchor-link" href="#Information-about-respondent---B-variables"> </a></h3><ul>
<li>tribe<ul>
<li>education</li>
<li>age</li>
<li>gender </li>
<li>group membership</li>
</ul>
</li>
</ul>
<h3 id="Water-Guard-Use---C-variables">Water Guard Use - C variables<a class="anchor-link" href="#Water-Guard-Use---C-variables"> </a></h3><p>for Waterguard (WG),(survey questions on other chlorine not in this dataset)</p>
<ul>
<li>c1a - have you ever heard of WG</li>
<li>c2a - have you ever used WG</li>
<li>c3a - is your water currently treated with WG</li>
<li>c4a - have you used WG in past month</li>
</ul>
<h3 id="Durable-/-Capital-Goods---D-variables">Durable / Capital Goods - D variables<a class="anchor-link" href="#Durable-/-Capital-Goods---D-variables"> </a></h3><ul>
<li>electricity  / latrine / iron roof  ( yes / no) </li>
<li>bicycle/ radio / hoe / beds ( number of items owned)</li>
<li>number of animals (number)</li>
</ul>
<h3 id="Child-Health---E-variables">Child Health - E variables<a class="anchor-link" href="#Child-Health---E-variables"> </a></h3><ul>
<li>number of kids under 5 =  e1_num_kids_under_5</li>
</ul>
<p>e2_ This table becomes tricky because it has a different format 
Each kid in the table is numbered 01, 02 etc
and then the subsequent questions keyed to that child number
e2e_01_d_diarrhea, e2e_02_d_diarrhea, e2e_03_d_diarrhea
for four diseases:</p>
<ul>
<li>cough</li>
<li>Diarrhea</li>
<li>fever_malaria</li>
<li>vomiting</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Treatment-Arm----There-is-an-additional-variable-called-treatment-arm">Treatment Arm -  There is an additional variable called treatment arm<a class="anchor-link" href="#Treatment-Arm----There-is-an-additional-variable-called-treatment-arm"> </a></h3><h3 id="Arm-1-is-control,-and-Arms-2-7-are-different-types-of-treatment-interventions">Arm 1 is control, and Arms 2-7 are different types of treatment interventions<a class="anchor-link" href="#Arm-1-is-control,-and-Arms-2-7-are-different-types-of-treatment-interventions"> </a></h3><ul>
<li>Arm 1 - Control</li>
<li>Arm 2 - Household Script</li>
<li>Arm 3 - Community Script</li>
<li>Arm 4 - HH + Community Script</li>
<li>Arm 5 - Flat-Fee Promoter + Coupons</li>
<li>Arm 6 - Incentivized Promoter + Coupons</li>
<li>Arm 7 - Incentivized Promoter + Dispenser at Spring</li>
</ul>
<p><em>How many households are in each Treatment Arm?</em></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WG_basetable</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Baseline-Check---Exposure-to-Water-Guard-Use">Baseline Check - Exposure to Water Guard Use<a class="anchor-link" href="#Baseline-Check---Exposure-to-Water-Guard-Use"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">### Using a variable for if the Household has ever used WaterGuard</span>
<span class="n">WGP_baseline</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;c2a_wg_used_ever&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The data is currently Coded as 1 = Yes and 2 = No</p>
<p>So we cant really make sense of the Mean of the variable in its current form</p>
<p>Make a new column/variable with 1/2 answers translated into Yes/NO</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;WG Ever Use&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;c2a_wg_used_ever&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
<span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;WG Ever Use&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Yes&quot;</span><span class="p">,</span> <span class="s2">&quot;No&quot;</span> <span class="p">]</span>
<span class="n">WGP_baseline</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;WG Ever Use&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Crosstab---in-pandas">Crosstab - in <code>pandas</code><a class="anchor-link" href="#Crosstab---in-pandas"> </a></h2><p>Now we will use a command called a <code>Crosstab</code> - that is an abbreviation for cross-tabulation - that is easy to call in <code>pandas</code> but we would need to program in <code>datascience</code></p>
<p>We can first use it to do a  balance check for Water Guard use across Arms</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Table of treatment arm vs Water Guard Use but with Percentages</span>
<span class="n">WGUsec2VStreatment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;WG Ever Use&quot;</span><span class="p">],</span> 
                            <span class="n">columns</span><span class="o">=</span><span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">],</span>
                             <span class="n">margins</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># Include row and column totals</span>
<span class="n">WGUsec2VStreatment</span><span class="o">/</span><span class="n">WGUsec2VStreatment</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;All&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Now lets check and see how many households are currently using WG -</span>
<span class="c1"># Variable name is c3a_wg_water_currently_treat</span>

<span class="n">WGP_baseline</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;c3a_wg_water_currently_treat&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Do you notice a problem here? Look at the total numbers reported in the output above</em></p>
<p>We can do the same percentage tables for the balance check</p>
<p>but maybe there's a problem?  ( look at the total number of hhs answering the question!)</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Table of treatment arm vs Water Guard Use but with Percentages</span>
<span class="n">WG_c3VStrt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;c3a_wg_water_currently_treat&quot;</span><span class="p">],</span> 
                            <span class="n">columns</span><span class="o">=</span><span class="n">WGP_baseline</span><span class="p">[</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">],</span>
                             <span class="n">margins</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># Include row and column totals</span>
<span class="n">WG_c3VStrt</span><span class="o">/</span><span class="n">WG_c3VStrt</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;All&quot;</span><span class="p">]</span>
<span class="c1"># In this case the 1&#39;s represent the percent  answering yes, out of all those who answered the question</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Seems like a really high usage ... maybe this is due to missing values</strong></p>
<p>Earlier we created a dataset where the missing values "nan" were replaced with zeros</p>
<p>If we use this dataset we would have percents over the total population surveyed</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Table of treatment arm vs Water Guard Use,  Percentages, with missing values substituted with zeros</span>
<span class="n">WG_c3VStrt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">WGP_base_dfna</span><span class="p">[</span><span class="s2">&quot;c3a_wg_water_currently_treat&quot;</span><span class="p">],</span> 
                            <span class="n">columns</span><span class="o">=</span><span class="n">WGP_base_dfna</span><span class="p">[</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">],</span>
                             <span class="n">margins</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># Include row and column totals</span>
<span class="n">WG_c3VStrt</span><span class="o">/</span><span class="n">WG_c3VStrt</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;All&quot;</span><span class="p">]</span>
<span class="c1"># In this case the 1&#39;s represent the percent  answering yes, out of all those who were surveyed</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Lets make this Crosstab Table look a little nicer, by rounding and multiplying by 100</span>
<span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">WG_c3VStrt</span><span class="o">/</span><span class="n">WG_c3VStrt</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;All&quot;</span><span class="p">],</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Question-2">Question 2<a class="anchor-link" href="#Question-2"> </a></h2><ul>
<li>2.1 Explain the previous table clearly and concisely, as if you were explaining it to someone who didnt know the back story</li>
<li>2.2What are the rows, what are the columns, why are we doing this?  ( Rows - What does the 0 mean, what does the 1 mean and what does the 2 Mean? )</li>
<li>2.3 Balance Check - How does the randomization look?</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div id="Baseline"></div><h1 id="Baseline-and-a-Randomly-Selected-Compound">Baseline and a Randomly Selected Compound<a class="anchor-link" href="#Baseline-and-a-Randomly-Selected-Compound"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Lets-have-you-describe-a-household-selected-at-Random">Lets have you describe a household selected at Random<a class="anchor-link" href="#Lets-have-you-describe-a-household-selected-at-Random"> </a></h3><p>Step 1) Lets extract the household / compound id into an array of all the possible values</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hhld_array</span><span class="o">=</span><span class="n">WG_basetable</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;a1_cmpd_id&#39;</span><span class="p">)</span>

<span class="n">hhld_array</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Step 2) Lets draw randomly from this array</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">randomhh</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">hhld_array</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;My randomly selected household is&quot;</span> <span class="p">,</span> <span class="n">randomhh</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Step 3)  Lets Look at the data for my randomly selected HH:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfamily</span> <span class="o">=</span> <span class="n">WG_basetable</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;a1_cmpd_id&quot;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">WG_basetable</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;a1_cmpd_id&#39;</span><span class="p">)))</span>
<span class="n">myfamily</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some of the variables may need some manipulation - Lets start with the age of the respondant:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">birthyear</span><span class="o">=</span>  <span class="n">myfamily</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;b3_birth_year&quot;</span><span class="p">)</span>  <span class="c1"># find the variable</span>
<span class="n">surveyyear</span><span class="o">=</span> <span class="n">myfamily</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;a5_date_interview_year&quot;</span><span class="p">)</span> <span class="c1"># find the variable</span>
<span class="n">agecalc</span> <span class="o">=</span><span class="n">surveyyear</span><span class="o">-</span><span class="n">birthyear</span>  <span class="c1"># </span>
<span class="n">agecalc</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#  code the answer for Tribe</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Survey respondent Tribe&quot;</span><span class="p">,</span><span class="n">myfamily</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;b5_tribe&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Respondent Spouse Tribe&quot;</span><span class="p">,</span><span class="n">myfamily</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;b7_tribe_spouse&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does the household have a latrine?&quot;</span><span class="p">,</span><span class="n">myfamily</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;d3_latrine&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Remember in the answer above it is coded so that 1=Yes and 2=No</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Question-3---Describe-your-randomly-selected-household-and-the-respondent-who-is-answering-the-survey.">Question 3 - Describe your randomly selected household and the respondent who is answering the survey.<a class="anchor-link" href="#Question-3---Describe-your-randomly-selected-household-and-the-respondent-who-is-answering-the-survey."> </a></h1><ol>
<li>Age</li>
<li>Tribe</li>
<li>Education - </li>
<li>Member of any groups b11-b15?</li>
<li>Occupation - </li>
<li>Religion - </li>
<li>A summary of D variables, iron roof, floor materials, latrine, cattle, others..</li>
<li>Have they ever used WG?</li>
<li>Treatment Arm - what was the assignment</li>
<li>How many children do they have  </li>
<li>Gender and Age of children</li>
<li>Have any of the children been sick?</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div id="Chlorine"></div><h1 id="Chlorine-Usage-outcome-variables">Chlorine Usage outcome variables<a class="anchor-link" href="#Chlorine-Usage-outcome-variables"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="WGP-Followup---Variability">WGP Followup - Variability<a class="anchor-link" href="#WGP-Followup---Variability"> </a></h2><p>The purpose of this section will be to continue on with the follow-up rounds of the Water Guard Promotion study.   In this section we have both the household reported use, and the use validated by checking the chlorine content of the water using a test kit.</p>
<p>To present this outcome data we need to program the following</p>
<ol>
<li>Graphing Data by treatment arm</li>
<li>Confidence Interval - standard deviation  - error bars</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGP3rds_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_stata</span><span class="p">(</span><span class="s1">&#39;WGP_3waves_Data8.dta&#39;</span><span class="p">))</span>
<span class="n">WGP3rds_table</span><span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_df</span><span class="p">(</span><span class="n">WGP3rds_df</span><span class="p">)</span>
<span class="c1">#WGP_df.head(10)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="This-is-a-large-dataset,-basically-three-datasets-merged-together,-one-for-baseline,-one-for-short-term-follow-up-and-one-for-long-term-followup">This is a large dataset, basically three datasets merged together, one for baseline, one for short term follow up and one for long term followup<a class="anchor-link" href="#This-is-a-large-dataset,-basically-three-datasets-merged-together,-one-for-baseline,-one-for-short-term-follow-up-and-one-for-long-term-followup"> </a></h5><ul>
<li>Round = 1 : baseline</li>
<li>Round = 2 : 3 week followup</li>
<li>Round = 3 : 3 month followup</li>
</ul>
<p>Many of the variables are only asked in one of the three rounds</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>The variable for self_reported chlorine use was "c6n" in Round 2, and 'c5n' in Round 3</li>
<li>The variable for chlorine use is "c12n21pnk" in Round 2 and 'c15npt2or1pnk' in Round3</li>
</ul>
<p><strong>The following variables have been combined across rounds for the ease of programming</strong></p>
<ul>
<li>'Selfrptpct' is self reported chlorine use in both round 2 and round 3</li>
<li>'Vldclpct'  is validated chlorine use in both rounds</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Here is a list of all of the possible categories / columns</span>
<span class="c1">#list(WGP3rds_df)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#WGP_baseline.groupby(&#39;e1_num_kids_under_5&#39;).size()</span>
<span class="n">WGP3rds_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGP3rds_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;round&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Groupby</strong></p>
<p>Another really nice <code>pandas</code> feature is the ability to group by two different variables. In this calse we want to group by survey round, and by treatment arm.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGP3rds_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span> <span class="s1">&#39;round&#39;</span><span class="p">,</span> <span class="s1">&#39;treatment_arm&#39;</span><span class="p">,])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Which brings us to a new  way to look at the outcome data - grouping by two variables in Pandas an calling for means</span>
<span class="c1"># Make a smaller df with just the outcome variables</span>
<span class="n">WGP_3rds_outcomesonly</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">WGP3rds_df</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;round&#39;</span><span class="p">,</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="s1">&#39;Selfrptpct&#39;</span><span class="p">,</span><span class="s1">&#39;Vldclpct&#39;</span><span class="p">])</span>
<span class="c1"># Then call for the means</span>
<span class="n">WGP_3rds_outcomesonly</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span> <span class="s1">&#39;round&#39;</span><span class="p">,</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Making-a-smaller-dataset">Making a smaller dataset<a class="anchor-link" href="#Making-a-smaller-dataset"> </a></h3><p>Lets break out a smaller dataset of the variables we want to focus on - just for Round 2, just for the outcome variables</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGPRd2</span> <span class="o">=</span> <span class="n">WGP3rds_table</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;round&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;a1_cmpd_id&quot;</span><span class="p">,</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">,</span>
                                           <span class="s2">&quot;c6_current_water_treated_wg&quot;</span><span class="p">,</span> 
                                           <span class="s1">&#39;c6_curr_water_treat_other_c&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;c12_chlorine_meter_reading&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;c11_chlorine_color&#39;</span><span class="p">,</span><span class="s1">&#39;c12n21pnk&#39;</span><span class="p">,</span> <span class="s1">&#39;c6n&#39;</span>
                                          <span class="p">)</span>
<span class="n">WGPRd2</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># make a pandas dataframe df for Round 2</span>
<span class="n">WGP_rnd2df</span><span class="o">=</span> <span class="n">WGP3rds_df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">WGP3rds_df</span><span class="p">[</span><span class="s1">&#39;round&#39;</span><span class="p">]</span> <span class="o">==</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we can start by looking at the estimate of WG use in Round 2 across all treatment arms ( for the entire sample) </span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;c12n21pnk&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Confidence-Interval">Confidence Interval<a class="anchor-link" href="#Confidence-Interval"> </a></h2><p>Lets compute a confidence interval for the percent of households using Chlorine ( Validated by a Chlorine measurement)</p>
<ol>
<li>Compute the proportion</li>
<li>Number in each population</li>
<li>Standard Errors following a formula</li>
<li>Confidence Interval</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Compute Standard Error of a proportion</span>
<span class="c1"># We can do this the first time for the entire sample</span>
<span class="c1"># Save the followng values</span>
<span class="n">p_all</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;c12n21pnk&#39;</span><span class="p">))</span>
<span class="n">N_all</span><span class="o">=</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">num_rows</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#  The formula for the SE of a proportion is sqrt((p1(1-p1))/N)</span>
<span class="n">se_all</span><span class="o">=</span><span class="p">((</span><span class="n">p_all</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_all</span><span class="p">))</span><span class="o">/</span><span class="n">N_all</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
<span class="n">se_all</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Upper bound of CI</span>
<span class="c1"># Using Z = 1.96</span>
<span class="n">Z</span><span class="o">=</span><span class="mf">1.96</span>
<span class="n">upper_all</span> <span class="o">=</span> <span class="n">p_all</span><span class="o">+</span><span class="n">Z</span><span class="o">*</span><span class="n">se_all</span>
<span class="n">lower_all</span> <span class="o">=</span> <span class="n">p_all</span><span class="o">-</span><span class="n">Z</span><span class="o">*</span><span class="n">se_all</span>
<span class="n">CI_all</span><span class="o">=</span><span class="p">(</span><span class="n">upper_all</span><span class="p">,</span><span class="n">lower_all</span><span class="p">)</span>
<span class="n">CI_all</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-this-technique-we-can-look-at-the-Confidence-Intervals-for-each-of-the-treatment-arms">Using this technique we can look at the Confidence Intervals for each of the treatment arms<a class="anchor-link" href="#Using-this-technique-we-can-look-at-the-Confidence-Intervals-for-each-of-the-treatment-arms"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Here is the code for just arm 1</span>
<span class="n">p_1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;c12n21pnk&#39;</span><span class="p">))</span>
<span class="n">N_1</span><span class="o">=</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">num_rows</span>
<span class="n">N_1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In Round 2, the number of households in arm 1 Control is:&quot;</span><span class="p">,</span> <span class="n">N_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The share of households with Validated WG use is: &quot;</span><span class="p">,</span> <span class="n">p_1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">se_1</span><span class="o">=</span><span class="p">((</span><span class="n">p_1</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_1</span><span class="p">))</span><span class="o">/</span><span class="n">N_1</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The standard error of the Validated WG estimate is: &quot;</span><span class="p">,</span> <span class="n">se_1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Upper bound of CI</span>
<span class="c1"># Using Z = 1.96</span>
<span class="n">Z</span><span class="o">=</span><span class="mf">1.96</span>
<span class="n">upper_1</span> <span class="o">=</span> <span class="n">p_1</span><span class="o">+</span><span class="n">Z</span><span class="o">*</span><span class="n">se_1</span>
<span class="n">lower_1</span> <span class="o">=</span> <span class="n">p_1</span><span class="o">-</span><span class="n">Z</span><span class="o">*</span><span class="n">se_1</span>
<span class="n">CI_1</span><span class="o">=</span><span class="p">(</span><span class="n">upper_1</span><span class="p">,</span><span class="n">lower_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The 95% Confidence Interval for Validated WG use is: &quot;</span><span class="p">,</span> <span class="n">CI_1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong> Repeating for Arm 2 </strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Here is the code for just arm 2</span>
<span class="n">p_2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;c12n21pnk&#39;</span><span class="p">))</span>
<span class="n">N_2</span><span class="o">=</span><span class="n">WGPRd2</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;treatment_arm&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">num_rows</span>
<span class="n">N_2</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In Round 2, the number of households in arm 1 Control is:&quot;</span><span class="p">,</span> <span class="n">N_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The share of households with Validated WG use is: &quot;</span><span class="p">,</span> <span class="n">p_2</span><span class="p">)</span>
<span class="n">se_2</span><span class="o">=</span><span class="p">((</span><span class="n">p_2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_2</span><span class="p">))</span><span class="o">/</span><span class="n">N_2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The standard error of the Validated WG estimate is: &quot;</span><span class="p">,</span> <span class="n">se_2</span><span class="p">)</span>
<span class="c1"># Upper bound of CI</span>
<span class="c1"># Using Z = 1.96</span>
<span class="n">Z</span><span class="o">=</span><span class="mf">1.96</span>
<span class="n">upper_2</span> <span class="o">=</span> <span class="n">p_2</span><span class="o">+</span><span class="n">Z</span><span class="o">*</span><span class="n">se_2</span>
<span class="n">lower_2</span> <span class="o">=</span> <span class="n">p_2</span><span class="o">-</span><span class="n">Z</span><span class="o">*</span><span class="n">se_2</span>
<span class="n">CI_2</span><span class="o">=</span><span class="p">(</span><span class="n">upper_2</span><span class="p">,</span><span class="n">lower_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The 95% Confidence Interval for Validated WG use is: &quot;</span><span class="p">,</span> <span class="n">CI_2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Question-4.1---What-can-we-tell-by-comparing-the-confidence-intervals-for-Arm-1-and-Arm-2.--Do-they-overlap?--What-does-that-mean?">Question 4.1 - What can we tell by comparing the confidence intervals for Arm 1 and Arm 2.  Do they overlap?  What does that mean?<a class="anchor-link" href="#Question-4.1---What-can-we-tell-by-comparing-the-confidence-intervals-for-Arm-1-and-Arm-2.--Do-they-overlap?--What-does-that-mean?"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><em>type your answer here</em></strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Question-4.2---Propose-an-additional-hypothesis-to-test-with-this-data?--Program-the-confidence-interval-for-another-treatment-arm-and-see-if-it-is-different-than-the-control-arm.">Question 4.2 - Propose an additional hypothesis to test with this data?  Program the confidence interval for another treatment arm and see if it is different than the control arm.<a class="anchor-link" href="#Question-4.2---Propose-an-additional-hypothesis-to-test-with-this-data?--Program-the-confidence-interval-for-another-treatment-arm-and-see-if-it-is-different-than-the-control-arm."> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><em>written answer proposing a hypothesis test </em></strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># coding section</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># coding section</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div id="Graph"></div><h1 id="Graph-of-outcomes-by-Treatment-Arm">Graph of outcomes by Treatment Arm<a class="anchor-link" href="#Graph-of-outcomes-by-Treatment-Arm"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="WGP-Followup-Round-2,-Round-3,-and-across-rounds">WGP Followup Round 2, Round 3, and across rounds<a class="anchor-link" href="#WGP-Followup-Round-2,-Round-3,-and-across-rounds"> </a></h2><p>Now we will work on making a make a summary graph for the WGP study. This graph should show the seven treatment arms with the levels of our outcomes, and include error bars.  In addition, we can work on customizing and saving our graph.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">WGPRd2</span> <span class="o">=</span> <span class="n">WGP3rds_table</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;round&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;a1_cmpd_id&quot;</span><span class="p">,</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="s1">&#39;Selfrptpct&#39;</span><span class="p">,</span> <span class="s1">&#39;Vldclpct&#39;</span><span class="p">)</span>
<span class="n">WGPRd2</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Lets group by treatment_arm take the means of each group</span>
<span class="c1"># This corresponds to the summary stats in Lab 5</span>
<span class="n">round2_means</span> <span class="o">=</span> <span class="n">WGPRd2</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
<span class="n">round2_means</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We have the means in a table, let&#39;s also make an array of these outcomes</span>
<span class="c1"># Save the means into an array for later use</span>
<span class="n">round2_means_self_array</span> <span class="o">=</span> <span class="n">round2_means</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Selfrptpct mean&#39;</span><span class="p">)</span>
<span class="n">round2_means_vld_array</span> <span class="o">=</span> <span class="n">round2_means</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Vldclpct mean&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># first graph - bar chart </span>
<span class="n">round2_means</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="s1">&#39;Selfrptpct mean&#39;</span><span class="p">)</span> 
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Round 2 - bar chart with both self and validated </span>
<span class="n">round2_means</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="n">make_array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> 
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># redoing it for round 3</span>
<span class="n">WGPRd3</span> <span class="o">=</span> <span class="n">WGP3rds_table</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;round&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;a1_cmpd_id&quot;</span><span class="p">,</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="s1">&#39;Selfrptpct&#39;</span><span class="p">,</span> <span class="s1">&#39;Vldclpct&#39;</span><span class="p">)</span>
<span class="n">round3_means</span> <span class="o">=</span> <span class="n">WGPRd3</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>

<span class="c1"># array of means</span>
<span class="n">round3_means_array</span> <span class="o">=</span> <span class="n">round3_means</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Selfrptpct mean&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round3_means_array</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Round 3 Graph</span>
<span class="n">round3_means</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="n">make_array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> 
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Practice-with-pyplot-&amp;-Matplotlib">Practice with pyplot &amp; Matplotlib<a class="anchor-link" href="#Practice-with-pyplot-&amp;-Matplotlib"> </a></h2><p>Now we can make a graph that compares round 2 and round 3</p>
<p>This is a more complicated graphing using Matplotlib</p>
<p><strong>references at:</strong></p>
<ol>
<li><a href="https://matplotlib.org/gallery/api/barchart.html">https://matplotlib.org/gallery/api/barchart.html</a></li>
<li><a href="https://tonysyu.github.io/raw_content/matplotlib-style-gallery/gallery.html">https://tonysyu.github.io/raw_content/matplotlib-style-gallery/gallery.html</a></li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn&#39;</span><span class="p">)</span>  <span class="c1"># You can try changing the style </span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>  <span class="c1"># the x locations for the groups</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span>       <span class="c1"># the width of the bars</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">round2_means_self_array</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ind</span> <span class="o">+</span> <span class="n">width</span><span class="p">,</span> <span class="n">round3_means_array</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="c1"># add some text for labels, title and axes ticks</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Percent of HH using WG&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Self reported WG use&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Treatment Arm&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ind</span> <span class="o">+</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">((</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;7&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="n">rects1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rects2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
          <span class="p">,(</span><span class="s1">&#39;3 Week Visit&#39;</span><span class="p">,</span> <span class="s1">&#39;3 Month Visit&#39;</span><span class="p">)</span>  <span class="c1"># relabeling Round 2 and Round 3</span>
          <span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>  <span class="c1"># placing the legend in the graph </span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># If you want to save the figure into an image file</span>
<span class="c1">#plt.savefig(&quot;test.png&quot;)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Question-5---Make-a-version-of-this-graph-for-Validated-Presence-of-WG">Question 5 - Make a version of this graph for Validated Presence of WG<a class="anchor-link" href="#Question-5---Make-a-version-of-this-graph-for-Validated-Presence-of-WG"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#  Code in here</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Explanation of what you did here</em></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Extra-Credit-Section-on-Error-Bars...-if-you-are-interested">Extra Credit Section on Error Bars... if you are interested<a class="anchor-link" href="#Extra-Credit-Section-on-Error-Bars...-if-you-are-interested"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#  Repeat this for the standard deviation</span>
<span class="n">round2_stdev</span> <span class="o">=</span> <span class="n">WGPRd2</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">)</span>
<span class="n">round2_stdev</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Get the number in each arm for adjusting the SD</span>
<span class="n">round2_num</span><span class="o">=</span> <span class="n">WGPRd2</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">)</span>
<span class="n">round2_num</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># make an array of standard errors</span>
<span class="n">round2_self_stdev_array</span><span class="o">=</span> <span class="n">round2_stdev</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Selfrptpct std&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">round2_self_stdev_array</span><span class="p">)</span>
<span class="c1"># make an array of numbers n</span>
<span class="n">round2_self_num_array</span> <span class="o">=</span> <span class="n">round2_num</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">round2_self_num_array</span><span class="p">)</span>
<span class="c1"># make and array of the square root of n</span>
<span class="n">round2_self_sqrtn_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">round2_self_num_array</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">round2_self_sqrtn_array</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Make the standard error dividing the SD by the square root of n</span>
<span class="n">round2_self_se</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">round2_self_stdev_array</span><span class="p">,</span><span class="n">round2_self_sqrtn_array</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">round2_self_se</span><span class="p">)</span>
<span class="n">round2_self_2se</span> <span class="o">=</span> <span class="n">round2_self_se</span><span class="o">*</span><span class="mi">2</span>
<span class="n">round2_self_2se</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Let&#39;s add in the error bars - adding in yerr= 2* SE - this would be the 95% Confidence Interval</span>
<span class="n">round2_means</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="s1">&#39;Selfrptpct mean&#39;</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">round2_self_2se</span><span class="p">)</span> 
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Standard Errors for round 3</span>
<span class="n">round3_stdev</span> <span class="o">=</span> <span class="n">WGPRd3</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">)</span>
<span class="n">round3_num</span><span class="o">=</span> <span class="n">WGPRd3</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">)</span>
<span class="c1"># make an array of standard errors</span>
<span class="n">round3_self_stdev_array</span><span class="o">=</span> <span class="n">round3_stdev</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Selfrptpct std&#39;</span><span class="p">)</span>
<span class="n">round3_self_num_array</span> <span class="o">=</span> <span class="n">round3_num</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">round3_self_sqrtn_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">round2_self_num_array</span><span class="p">)</span>
<span class="c1">#print (round2_self_sqrtn_array)</span>
<span class="n">round3_self_se</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">round3_self_stdev_array</span><span class="p">,</span><span class="n">round3_self_sqrtn_array</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">round3_self_se</span><span class="p">)</span>
<span class="n">round3_self_2se</span> <span class="o">=</span> <span class="n">round3_self_se</span><span class="o">*</span><span class="mi">2</span>
<span class="n">round3_self_2se</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Round 3 Graph</span>
<span class="n">round3_means</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="s1">&#39;treatment_arm&#39;</span><span class="p">,</span><span class="s1">&#39;Selfrptpct mean&#39;</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">round3_self_2se</span><span class="p">)</span> 
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Extra-Credit-----Make-another-graph">Extra Credit  -  Make another graph<a class="anchor-link" href="#Extra-Credit-----Make-another-graph"> </a></h2><p>Make another graph similar but different to the previous 6 ones above, that</p>
<ul>
<li>uses the Validated means and Confidence Intervals </li>
<li>looks awesome ( change the colors, choose the orientation, think about what you wish it looked like)</li>
<li>Add a short paragraph of explanation - what can you summarize from looking at the error bars in your graph?</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#  add code here </span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Write a short paragraph explaining and interpereting your graph</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Practice-with-pyplot-&amp;-Matplotlib">Practice with pyplot &amp; Matplotlib<a class="anchor-link" href="#Practice-with-pyplot-&amp;-Matplotlib"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># This is just to check our inputs in to the more complicated graph in the following cell</span>
<span class="c1">#print(round2_means_array,round2_self_stderr_array )</span>
<span class="c1"># Shouldnt be necessary, but in case you have problems</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Now we can make a graph that compares round 2 and round 3 </span>
<span class="c1"># This is a more complicated graphing using Matplotlib</span>

<span class="c1"># following from https://matplotlib.org/gallery/api/barchart.html</span>
<span class="c1"># https://tonysyu.github.io/raw_content/matplotlib-style-gallery/gallery.html</span>
<span class="c1">#plt.style.use(&#39;fivethirtyeight&#39;)</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;classic&#39;</span><span class="p">)</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>  <span class="c1"># the x locations for the groups</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span>       <span class="c1"># the width of the bars</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">round2_means_self_array</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">round2_self_2se</span><span class="p">)</span>

<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ind</span> <span class="o">+</span> <span class="n">width</span><span class="p">,</span> <span class="n">round3_means_array</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">round3_self_2se</span><span class="p">)</span>

<span class="c1"># add some text for labels, title and axes ticks</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Percent of HH using WG&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Self reported WG use&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Treatment Arm&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ind</span> <span class="o">+</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">((</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;7&#39;</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="n">rects1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rects2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
          <span class="p">,(</span><span class="s1">&#39;3 Week Visit&#39;</span><span class="p">,</span> <span class="s1">&#39;3 Month Visit&#39;</span><span class="p">)</span>
          <span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>

<span class="c1">#plt.savefig(&quot;WG_Trial.png&quot;)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

 


</main>
